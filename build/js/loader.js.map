{"version":3,"file":"loader.js","sources":["constants.js","loader.js"],"sourcesContent":["const constants = {\n  MAX_ANSWERS_COUNT: 10,\n  MAX_WRONG_ANSWERS: 3,\n  CORRECT_ANSWER: 100,\n  ADDITIONAL_POINTS: 50,\n  LOWER_TIME_LIMIT: 10,\n  HIGHER_TIME_LIMIT: 20,\n  CHECKED_RADIO_COUNT: 2,\n  MIN_NAME_LENGTH: 2,\n  INITIAL_STATE: Object.freeze({\n    lives: 3,\n    time: 30,\n    win: false,\n    level: 0\n  }),\n  SERVER_URL: `https://es.dump.academy/pixel-hunter`,\n  MAX_RESULTS_NUMBER: 3,\n  LAST_SEC: 5,\n  PAUSE_TIME: 3000\n};\n\nexport default constants;\n","import constants from \"./constants\";\n\nconst DEFAULT_NAME = `Неопознанный вомбат`;\nconst APP_ID = 13111983;\n\nconst checkStatus = (response) => {\n  if (response.ok) {\n    return response;\n  } else {\n    throw new Error(`${response.status}: ${response.statusText}`);\n  }\n};\n\nconst toJSON = (response) => response.json();\n\nexport default class Loader {\n  static async loadData() {\n    const response = await fetch(`${constants.SERVER_URL}/questions`);\n    checkStatus(response);\n    return await toJSON(response);\n  }\n\n  static async loadResults(name = DEFAULT_NAME) {\n    const response = await fetch(`${constants.SERVER_URL}/stats/${APP_ID}-${name}`);\n    checkStatus(response);\n    return await toJSON(response);\n  }\n\n  static async saveResults(data, name = DEFAULT_NAME) {\n    const requestSettings = {\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    const response = await fetch(`${constants.SERVER_URL}/stats/${APP_ID}-${name}`, requestSettings);\n    return checkStatus(response);\n  }\n}\n\n"],"names":["constants","Object","freeze","DEFAULT_NAME","APP_ID","checkStatus","response","ok","Error","status","statusText","toJSON","json","Loader","fetch","SERVER_URL","name","data","JSON","stringify","requestSettings"],"mappings":";;;AAAA,IAAMA,YAAY;qBACG,EADH;qBAEG,CAFH;kBAGA,GAHA;qBAIG,EAJH;oBAKE,EALF;qBAMG,EANH;uBAOK,CAPL;mBAQC,CARD;iBASDC,OAAOC,MAAP,CAAc;WACpB,CADoB;UAErB,EAFqB;SAGtB,KAHsB;WAIpB;GAJM,CATC;oDAAA;sBAgBI,CAhBJ;YAiBN,CAjBM;cAkBJ;CAlBd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA,IAAMC,8HAAN;AACA,IAAMC,SAAS,QAAf;;AAEA,IAAMC,cAAc,SAAdA,WAAc,CAACC,QAAD,EAAc;MAC5BA,SAASC,EAAb,EAAiB;WACRD,QAAP;GADF,MAEO;UACC,IAAIE,KAAJ,CAAaF,SAASG,MAAtB,UAAiCH,SAASI,UAA1C,CAAN;;CAJJ;;AAQA,IAAMC,SAAS,SAATA,MAAS,CAACL,QAAD;SAAcA,SAASM,IAAT,EAAd;CAAf;;IAEqBC;;;;;;;;;;;;;;;uBAEMC,MAASd,UAAUe,UAAnB;;;;;4BACXT,QAAZ;;uBACaK,OAAOL,QAAP;;;;;;;;;;;;;;;;;;;;;;;YAGUU,2EAAOb;;;;;;;uBACPW,MAASd,UAAUe,UAAnB,eAAuCX,MAAvC,SAAiDY,IAAjD;;;;;4BACXV,QAAZ;;uBACaK,OAAOL,QAAP;;;;;;;;;;;;;;;;;;;;;;2FAGUW;YAAMD,2EAAOb;;;;;;kCACZ;wBAChBe,KAAKC,SAAL,CAAeF,IAAf,CADgB;2BAEb;;mBAFa;;;;uBAODH,MAASd,UAAUe,UAAnB,eAAuCX,MAAvC,SAAiDY,IAAjD,EAAyDI,eAAzD;;;;kDAChBf,YAAYC,QAAZ;;;;;;;;;;;;;;;;;;;;;;;;;;"}