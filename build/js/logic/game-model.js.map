{"version":3,"file":"game-model.js","sources":["initial-game.js","../constants.js","game-model.js"],"sourcesContent":["const initialGame = {\n  lives: 3,\n  time: 30,\n  win: false,\n  level: 0\n};\n\nexport default initialGame;\n","const constants = {\n  MAX_ANSWERS_COUNT: 10,\n  MAX_WRONG_ANSWERS: 3,\n  CORRECT_ANSWER: 100,\n  ADDITIONAL_POINTS: 50,\n  LOWER_TIME_LIMIT: 10,\n  HIGHER_TIME_LIMIT: 20,\n  CHECKED_RADIO_COUNT: 2,\n  MIN_NAME_LENGTH: 2,\n  INITIAL_STATE: Object.freeze({\n    lives: 3,\n    time: 30,\n    win: false,\n    level: 0\n  }),\n  SERVER_URL: `https://es.dump.academy/pixel-hunter`,\n  MAX_RESULTS_NUMBER: 3,\n  LAST_SEC: 5,\n  PAUSE_TIME: 3000\n};\n\nexport default constants;\n","import initialGame from \"./initial-game\";\nimport constants from \"../constants\";\n\nclass GameModel {\n  constructor(data, player) {\n    this.data = data;\n    this.player = player;\n    this.restart();\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  getLevel(index) {\n    return this.data[index];\n  }\n\n  getCurrentLevel() {\n    return this.getLevel(this._state.level);\n  }\n\n  hasNextLevel() {\n    return this.getLevel(this._state.level + 1) !== void 0;\n  }\n\n  nextLevel() {\n    this._state.level++;\n  }\n\n  die() {\n    this._state.lives--;\n  }\n\n  isDead() {\n    return this._state.lives <= 0;\n  }\n\n  win() {\n    this._state.win = true;\n  }\n\n  tick() {\n    this._state.time--;\n  }\n\n  addAnswer(answer) {\n    this._state.answers.push({correct: answer, time: initialGame.time - this._state.time});\n  }\n\n  restart() {\n    this._state = Object.assign({}, constants.INITIAL_STATE);\n    this._state.answers = [];\n  }\n\n  rebootTime() {\n    this._state.time = initialGame.time;\n  }\n}\n\nexport default GameModel;\n"],"names":["initialGame","constants","Object","freeze","GameModel","data","player","restart","index","getLevel","_state","level","lives","win","time","answer","answers","push","correct","assign","INITIAL_STATE"],"mappings":";;;AAAA,IAAMA,cAAc;SACX,CADW;QAEZ,EAFY;OAGb,KAHa;SAIX;CAJT;;ACAA,IAAMC,YAAY;qBACG,EADH;qBAEG,CAFH;kBAGA,GAHA;qBAIG,EAJH;oBAKE,EALF;qBAMG,EANH;uBAOK,CAPL;mBAQC,CARD;iBASDC,OAAOC,MAAP,CAAc;WACpB,CADoB;UAErB,EAFqB;SAGtB,KAHsB;WAIpB;GAJM,CATC;oDAAA;sBAgBI,CAhBJ;YAiBN,CAjBM;cAkBJ;CAlBd;;;;;;;;;;;;;;;;;;;;;;;;;;ICGMC;qBACQC,IAAZ,EAAkBC,MAAlB,EAA0B;;;SACnBD,IAAL,GAAYA,IAAZ;SACKC,MAAL,GAAcA,MAAd;SACKC,OAAL;;;;;6BAOOC,OAAO;aACP,KAAKH,IAAL,CAAUG,KAAV,CAAP;;;;sCAGgB;aACT,KAAKC,QAAL,CAAc,KAAKC,MAAL,CAAYC,KAA1B,CAAP;;;;mCAGa;aACN,KAAKF,QAAL,CAAc,KAAKC,MAAL,CAAYC,KAAZ,GAAoB,CAAlC,MAAyC,KAAK,CAArD;;;;gCAGU;WACLD,MAAL,CAAYC,KAAZ;;;;0BAGI;WACCD,MAAL,CAAYE,KAAZ;;;;6BAGO;aACA,KAAKF,MAAL,CAAYE,KAAZ,IAAqB,CAA5B;;;;0BAGI;WACCF,MAAL,CAAYG,GAAZ,GAAkB,IAAlB;;;;2BAGK;WACAH,MAAL,CAAYI,IAAZ;;;;8BAGQC,QAAQ;WACXL,MAAL,CAAYM,OAAZ,CAAoBC,IAApB,CAAyB,EAACC,SAASH,MAAV,EAAkBD,MAAMd,YAAYc,IAAZ,GAAmB,KAAKJ,MAAL,CAAYI,IAAvD,EAAzB;;;;8BAGQ;WACHJ,MAAL,GAAcR,OAAOiB,MAAP,CAAc,EAAd,EAAkBlB,UAAUmB,aAA5B,CAAd;WACKV,MAAL,CAAYM,OAAZ,GAAsB,EAAtB;;;;iCAGW;WACNN,MAAL,CAAYI,IAAZ,GAAmBd,YAAYc,IAA/B;;;;2BA9CU;aACH,KAAKJ,MAAZ;;;;;;;;;;;;"}