{"version":3,"file":"statistic-view.js","sources":["../util.js","abstract-view.js","../constants.js","statistic-view.js"],"sourcesContent":["export const getElementFromTemplate = (markup) => {\n  let domElement = document.createElement(`div`);\n  domElement.innerHTML = markup;\n  return domElement;\n};\n\nexport const showErrorMessage = (message) => {\n  const template = document.createElement(`div`);\n  template.textContent = message;\n\n  const styles = [\n    `position: fixed`,\n    `top: 25%`,\n    `left: 50%`,\n    `z-index: 100`,\n    `width: 800px`,\n    `padding: 20px`,\n    `color: #fff`,\n    `text-align: center`,\n    `transform: translate(-50%, -50%)`,\n    `border-radius: 2px`,\n    `background-color: #DC143C`\n  ];\n\n  template.style.cssText = styles.join(`;`);\n  document.body.appendChild(template);\n};\n","import {getElementFromTemplate} from \"../util\";\n\nclass AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Can not create example of AbstractView, only the new one class`);\n    }\n  }\n\n  get template() {\n    throw new Error(`Template is required`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = this.render();\n    this.bind(this._element);\n    return this._element;\n  }\n\n  render() {\n    return getElementFromTemplate(this.template);\n  }\n\n  bind() {\n  }\n}\n\nexport default AbstractView;\n","const constants = {\n  MAX_ANSWERS_COUNT: 10,\n  MAX_WRONG_ANSWERS: 3,\n  CORRECT_ANSWER: 100,\n  ADDITIONAL_POINTS: 50,\n  LOWER_TIME_LIMIT: 10,\n  HIGHER_TIME_LIMIT: 20,\n  CHECKED_RADIO_COUNT: 2,\n  MIN_NAME_LENGTH: 2,\n  INITIAL_STATE: Object.freeze({\n    lives: 3,\n    time: 30,\n    win: false,\n    level: 0\n  }),\n  SERVER_URL: `https://es.dump.academy/pixel-hunter`,\n  MAX_RESULTS_NUMBER: 3,\n  LAST_SEC: 5,\n  PAUSE_TIME: 3000\n};\n\nexport default constants;\n","import AbstractView from \"./abstract-view\";\nimport constants from \"../constants\";\n\nconst getAnswerType = (answer) => {\n  if (!answer.correct) {\n    return `wrong`;\n  }\n\n  if (answer.correct && answer.time < constants.LOWER_TIME_LIMIT) {\n    return `fast`;\n  }\n\n  if (answer.correct && answer.time > constants.HIGHER_TIME_LIMIT) {\n    return `slow`;\n  }\n\n  return `correct`;\n};\n\nclass StatisticView extends AbstractView {\n  constructor(answers) {\n    super();\n    this.answers = answers;\n    this.answersType = this.answers.map((answer) => getAnswerType(answer));\n  }\n\n  get template() {\n    return `\n    <div class=\"stats\">\n      <ul class=\"stats\">\n      ${this.answersType.map((answerType) => `<li class=\"stats__result stats__result--${answerType}\"></li>`)\n      .join(``)}\n      ${new Array(10 - this.answersType.length)\n      .fill(`<li class=\"stats__result stats__result--unknown\"></li>`)\n      .join(``)}\n      </ul>\n    </div>`;\n  }\n}\n\nexport default StatisticView;\n"],"names":["getElementFromTemplate","markup","domElement","document","createElement","innerHTML","AbstractView","new","target","Error","template","_element","render","bind","constants","Object","freeze","getAnswerType","answer","correct","time","LOWER_TIME_LIMIT","HIGHER_TIME_LIMIT","StatisticView","answers","answersType","map","answerType","join","Array","length","fill"],"mappings":";;;AAAO,IAAMA,yBAAyB,SAAzBA,sBAAyB,CAACC,MAAD,EAAY;MAC5CC,aAAaC,SAASC,aAAT,OAAjB;aACWC,SAAX,GAAuBJ,MAAvB;SACOC,UAAP;CAHK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICEDI;0BACU;;;QACRC,IAAIC,MAAJ,KAAeF,YAAnB,EAAiC;YACzB,IAAIG,KAAJ,kEAAN;;;;;;6BAiBK;aACAT,uBAAuB,KAAKU,QAA5B,CAAP;;;;2BAGK;;;2BAjBQ;YACP,IAAID,KAAJ,wBAAN;;;;2BAGY;UACR,KAAKE,QAAT,EAAmB;eACV,KAAKA,QAAZ;;WAEGA,QAAL,GAAgB,KAAKC,MAAL,EAAhB;WACKC,IAAL,CAAU,KAAKF,QAAf;aACO,KAAKA,QAAZ;;;;;;ACnBJ,IAAMG,YAAY;qBACG,EADH;qBAEG,CAFH;kBAGA,GAHA;qBAIG,EAJH;oBAKE,EALF;qBAMG,EANH;uBAOK,CAPL;mBAQC,CARD;iBASDC,OAAOC,MAAP,CAAc;WACpB,CADoB;UAErB,EAFqB;SAGtB,KAHsB;WAIpB;GAJM,CATC;oDAAA;sBAgBI,CAhBJ;YAiBN,CAjBM;cAkBJ;CAlBd;;ACGA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,MAAD,EAAY;MAC5B,CAACA,OAAOC,OAAZ,EAAqB;;;;MAIjBD,OAAOC,OAAP,IAAkBD,OAAOE,IAAP,GAAcN,UAAUO,gBAA9C,EAAgE;;;;MAI5DH,OAAOC,OAAP,IAAkBD,OAAOE,IAAP,GAAcN,UAAUQ,iBAA9C,EAAiE;;;;;CATnE;;IAgBMC;;;yBACQC,OAAZ,EAAqB;;;;;UAEdA,OAAL,GAAeA,OAAf;UACKC,WAAL,GAAmB,MAAKD,OAAL,CAAaE,GAAb,CAAiB,UAACR,MAAD;aAAYD,cAAcC,MAAd,CAAZ;KAAjB,CAAnB;;;;;;2BAGa;iFAIT,KAAKO,WAAL,CAAiBC,GAAjB,CAAqB,UAACC,UAAD;6DAA2DA,UAA3D;OAArB,EACDC,IADC,IAHJ,gBAKI,IAAIC,KAAJ,CAAU,KAAK,KAAKJ,WAAL,CAAiBK,MAAhC,EACDC,IADC,6DAEDH,IAFC,IALJ;;;;EARwBtB;;;;;;;;"}